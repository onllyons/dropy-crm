<!DOCTYPE html>
<html lang="{{ str_replace('_', '-', app()->getLocale()) }}">
    <head>
        <x-seo-component title="Rules display game" />
        <x-style-head-dropy />
    </head>
    <body class="min-h-screen overflow-x-hidden bg-slate-50 text-slate-900">
        <div class="min-h-screen flex">
            <x-left-nav />

            <div id="sidebarOverlay" class="fixed inset-0 z-30 hidden bg-slate-900/40 md:hidden"></div>

            <div class="flex-1 md:ml-64">
                <x-top-nav title="Rules display game" />

                <main class="p-4 md:p-6">
                    <div class="rounded-2xl border border-slate-200 bg-white p-6 shadow-sm">
                        <h1 class="text-2xl font-semibold">Rules display game</h1>
                        <div>
                <h1>Games</h1>


                <div class="mt-4">


<h3>MySQL table: </h3>
<p>message_games</p><br>
<h3>1. Типы сообщений:</h3>
   <b>type: of_praise</b> - Сообщения для похвалы за правильные ответы.<br>
   <b>type: of_support</b> - Сообщения для поддержки при неправильных ответах.<br><br>

     <h3>2. Основные правила:</h3>
   - Модальные сообщения (модалы) должны работать во всех играх.<br>
   - Сообщения выводятся за каждую сессию пользователя.<br>
   - Для определения вывода сообщения используется логика последовательных и общих правильных/неправильных ответов.<br><br>

     <h3>3. Логика вывода сообщений с CELL, TYPE: `of_praise`:</h3>

<h3>3.1. <b>Последовательные правильные ответы:</b></h3>
   - Первое сообщение выводится после <b>трёх последовательных правильных ответов</b>.<br>
   - Следующее сообщение выводится после <b>ещё пяти последовательных правильных ответов</b>.<br>
   - Далее сообщения выводятся после каждых <b>пяти последовательных правильных ответов</b>.<br><br>

   Пример:<br>
   - Модал 1: после 3 последовательных правильных ответов.<br>
   - Модал 2: после 8 последовательных правильных ответов.<br>
   - Модал 3: после 13 последовательных правильных ответов.<br>
   - Модал 4: после 18 последовательных правильных ответов.<br>
   - Модал 5: после 23 последовательных правильных ответов.<br>
   - И так далее...<br><br>

<h3>3.2. <b>Общее количество правильных ответов:</b></h3>
   - Если пользователь не набирает последовательных правильных ответов для вывода модалов по предыдущим правилам:<br>
     - Первое сообщение выводится после <b>семи правильных ответов в общей сумме</b>.<br>
     - Следующее сообщение выводится после каждых <b>семи правильных ответов в общей сумме</b>.<br><br>

     <h3>4. Логика вывода сообщений с CELL, TYPE: `of_support`:</h3>

<h3>4.1. <b>Последовательные неправильные ответы:</b></h3>
   - Первое сообщение выводится после <b>трёх последовательных неправильных ответов</b>.<br>
   - Следующее сообщение выводится после <b>ещё пяти последовательных неправильных ответов</b>.<br>
   - Далее сообщения выводятся после каждых <b>пяти последовательных неправильных ответов</b>.<br><br>

   Пример:<br>
   - Модал 1: после 3 последовательных неправильных ответов.<br>
   - Модал 2: после 8 последовательных неправильных ответов.<br>
   - Модал 3: после 13 последовательных неправильных ответов.<br>
   - Модал 4: после 18 последовательных неправильных ответов.<br>
   - Модал 5: после 23 последовательных неправильных ответов.<br>
   - И так далее...<br><br>

<h3>4.2. <b>Общее количество неправильных ответов:</b></h3>
   - Если пользователь не набирает последовательных неправильных ответов для вывода модалов по предыдущим правилам:<br>
     - Первое сообщение выводится после <b>семи неправильных ответов в общей сумме</b>.<br>
     - Следующее сообщение выводится после каждых <b>семи неправильных ответов в общей сумме</b>.<br><br>

     <h3>5. Дополнительное правило:</h3>
   - Если модал был выведен в последних <b>двух вопросах</b>, то <b>новый модал не выводится</b>.<br>

    




                </div>
                

            </div>
<div class="restricted-container-html">
                <h1>Games</h1>


                <div class="mt-4">


                <p class="text-black mt-1">
                    <b>MySQL: <span> a_game_text</span></b><br>
                    <b>URL: <a class="text-sky-600" href="/play/chose/" target="_blank"> https://www.language.onllyons.com/play/chose/</a></b><br>
                </p>
                <ul style="list-style: auto; margin-left: 1.5rem;">
                    <li>
                        Вопросы показаны в диапазоне рейтинга, соответствующему рейтингу пользователя с добавлением и вычитанием определенного значения. Например, если рейтинг пользователя равен 1000, то диапазон его вопросов будет составлять от 500 до
                        1250.<br>

                        Вот пример: если у пользователя рейтинг 1000, то ему будут представлены случайные вопросы из каждой категории, но только те, которые имеют рейтинг в диапазоне от 500 до 1250. Например, если в категории "synonyms" есть вопросы с
                        рейтингом 600, 900 и 1300, то пользователю будут представлены только вопросы с рейтингами 600 и 900.
                    </li>
                    <li>Никакой пользователь не может упасть ниже рейтинга 300.</li>
                    <li>
                        Если после определенного рейтинга закончатся вопросы, то рейтинг уменьшится. Он уменьшается всегда на 100 баллов.<br>
                        Таким образом, диапазон обычно составляет минус 500 баллов от рейтинга пользователя плюс 250 баллов от рейтинга пользователя. Если же вопросы закончились, то рейтинг будет рассчитан по формуле: минус 600 рейтинг пользователя
                        плюс 250. Это продолжается до 300 рейтинга.<br>
                        Пример для рейтинга 1000:<br>
                        1000 - 500 | 1000 + 250 =&gt; диапазон: 500 - 1250;<br>
                        1000 - 600 | 1000 + 250 =&gt; диапазон: 400 - 1250;<br>
                        и после этого каждый раз падает на 100 баллов<br>
                        ...<br>
                        ...
                    </li>
                </ul>
                <b>Добавление бонуса для пользователей, которые решают вопросы быстрее, чем время, указанное в базе данных (cell: deducted_time):</b>
                <ul style="list-style: auto; margin-left: 1.5rem;">
                    <li>Если пользователь решает вопросы быстрее, чем за 33% от целевого времени (cell: deducted_time), то он получает бонус +3.</li>
                    <li>Если пользователь решает вопросы быстрее, чем за 66% от целевого времени (cell: deducted_time), то он получает бонус +2.</li>
                    <li>Если же еще не прошло целевое время (cell: deducted_time), пользователь получает бонус +1.</li>
                </ul>
                <br>
                <ul style="list-style: auto; margin-left: 1.5rem;">
                    <li>`added_points`: Здесь сохраняются баллы, которые добавляются за правильный ответ на вопросы.</li>
                    <li>`deducted_points`: Здесь сохраняются баллы, которые вычитаются за неправильный ответ на вопросы.</li>
                </ul>

                <br>
                <b>Как работает EChart:</b>
                <ul style="list-style: auto; margin-left: 1.5rem;">
                    <li>Верхний и нижний порог составляет 30 единиц измерение, если линия превышает этот порог, график расширяется с двух сторон на + 30 единиц измерение.</li>
                    <li>
                        Длина допуска равна 20 единиц измерение, если количество достигает 20 единиц измерение, происходит смещение вперед на 5 единиц измерение. Теперь график может вместить еще 5 единиц измерение, но при этом прошлые 5 будут обрезаны.
                    </li>
                    <li>
                        При загрузке страницы мы запоминаем временную метку unix в js и при обращении к серверу мы передаем это время, что бы из таблицы a_game_rating брались только те вопросы время завершения которых было таким же самым или большем
                        чем мы передаем.
                    </li>
                </ul>


                <hr>
                <hr>
                <hr>

                <p class="text-black mt-1 ">
                <b>MySQL: <span> general_rating_game</span></b><br>
                </p>
                <p>Общая таблица рейтинга игроков, содержащая следующую информацию:</p>
                <ul style="list-style: auto; margin-left: 1.5rem;">
                    <li><b>rating =&gt; </b>текущий рейтинг пользователей</li>
                    <li><b>votes_done =&gt; </b>общее количество правильных вопросов</li>
                    <li><b>votes_none =&gt; </b>общее количество неправильных вопросов</li>
                    <li><b>votes_count =&gt; </b>общее количество ответов на вопросы</li>
                    <li><b>start_rating =&gt; </b>рейтинг с которым начал играть</li>
                    <li><b>rating_max =&gt; </b>максимальный существующий рейтинг</li>
                    <li><b>rating_max_time =&gt; </b>обозначает время когда был получен максимальный рейтинг</li>
                    <li><b>series_max =&gt; </b>(за все время) максимальное количество правильных ответов подряд</li>
                    <li><b>current_series =&gt; </b>(в последный раз) максимальное количество правильных ответов подряд</li>
                </ul>

                <hr>
                <hr>
                <hr>

                <p class="text-black mt-1 ">
                <b>MySQL: <span> a_game_success</span></b><br>
                </p>
                <ul style="list-style: auto; margin-left: 1.5rem;">
                    <li><b>user_id =&gt; </b>ID пользователя</li>
                    <li><b>game_id =&gt; </b>идентификатор вопроса</li>
                    <li><b>time =&gt; </b>сколько времени потратил на вопрос</li>
                    <li><b>created_at =&gt; </b>во сколько ответил на вопрос</li>
                    <li><b>status =&gt; </b>если 0 =&gt; ответил неправильно; если 1 =&gt; ответил правильно</li>
                    <li><b>reward =&gt; </b>сколько баллов получил пользователь или сколько было вычтено</li>
                </ul>

                </div>
                

            </div>

                    </div>
                </main>
            </div>
        </div>

        <x-script-components />
        <x-offcanvas-right />
    </body>
</html>
